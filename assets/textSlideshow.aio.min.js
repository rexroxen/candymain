/*
Generated time: November 27, 2024 07:21
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
class TextSlideshow extends HTMLElement{constructor(){super(),this.slidesContainer=this.querySelector("[data-text-slide-container]"),this.slides=this.querySelectorAll("[data-text-slide]"),this.hiddenSlides=this.querySelectorAll("[data-text-slide]:not(.active)"),this.nextBtn=this.querySelector('button[name="next"]'),this.previousBtn=this.querySelector('button[name="previous"]'),this.pagination=this.querySelector("[data-text-slide-pagination]"),this.handleSwipe=this.handleSwipe.bind(this),this.nextBtn.addEventListener("click",this.onButtonClick.bind(this)),this.previousBtn.addEventListener("click",this.onButtonClick.bind(this)),this.pagination.addEventListener("click",this.handlePagination.bind(this)),this.hiddenSlides.forEach(t=>this.setLinkTabIndex(t,"-1")),this.slidesContainer.addEventListener("touchstart",t=>{this.isMobile()&&(this.swipeStart=t.changedTouches[0].screenX)}),this.slidesContainer.addEventListener("touchend",t=>{this.isMobile()&&(this.swipeEnd=t.changedTouches[0].screenX,this.handleSwipe())}),this.slidesContainer.addEventListener("mousedown",t=>{this.isMobile()&&(this.swipeStart=t.screenX)}),this.slidesContainer.addEventListener("mouseup",t=>{this.isMobile()&&(this.swipeEnd=t.screenX,this.handleSwipe())}),window.Shopify.designMode&&document.addEventListener("shopify:block:select",this.handleBlockSelect.bind(this))}onButtonClick(t){var e=+this.slidesContainer.querySelector(".active").dataset.textSlide,t="next"==t.currentTarget.name?1+e:e-1;this.setActiveSlide(t)}handlePagination(t){t=+t.target.dataset.paginationBtn;0<=t&&this.setActiveSlide(t)}setActiveSlide(t){this.currentSlide=this.slidesContainer.querySelector(".active"),this.currentSlide.classList.remove("active"),this.setLinkTabIndex(this.currentSlide,"-1"),this.activeSlide=this.slidesContainer.querySelector(`[data-text-slide="${t}"]`),this.activeSlide.classList.add("active"),this.setLinkTabIndex(this.activeSlide,"0"),this.displayButtons(t),this.displayPagination(t)}displayButtons(t){0==t?this.hideButton(this.previousBtn):this.showButton(this.previousBtn),t==this.slides.length-1?this.hideButton(this.nextBtn):this.showButton(this.nextBtn)}hideButton(t){t.disabled=!0,t.setAttribute("aria-hidden",!0),t.setAttribute("tabindex","-1")}showButton(t){t.disabled=!1,t.setAttribute("aria-hidden",!1),t.setAttribute("tabindex","0")}displayPagination(t){this.currentPagination=this.pagination.querySelector(".active"),this.currentPagination.classList.remove("active"),this.activePagination=this.pagination.querySelector(`[data-pagination-btn="${t}"]`),this.activePagination.classList.add("active")}setLinkTabIndex(t,e){t=t.querySelectorAll("a");t.length&&t.forEach(t=>t.setAttribute("tabindex",e))}handleSwipe(){var t=+this.slidesContainer.querySelector(".active").dataset.textSlide,e=this.swipeEnd<this.swipeStart,i=this.swipeEnd>this.swipeStart,s=t!=this.slides.length-1,n=0!=t;e&&s&&this.setActiveSlide(1+t),i&&n&&this.setActiveSlide(t-1)}handleBlockSelect(t){t=t.target.dataset.textSlide;t&&this.setActiveSlide(t)}isMobile(){return window.matchMedia("only screen and (max-width: 767px)").matches}}customElements.define("text-slideshow",TextSlideshow);