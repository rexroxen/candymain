/*
Generated time: November 27, 2024 07:21
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
customElements.get("store-availability")||customElements.define("store-availability",class extends HTMLElement{constructor(){super(),this.openLocationsModalBound=this.openLocationsModal.bind(this),this.closeLocationsModalBound=this.closeLocationsModal.bind(this),this.trapFocusBound=this.trapFocus.bind(this),this.cacheDOMEls()}cacheDOMEls(){this.drawerOverlay=document.querySelector("#DrawerOverlay"),this.locationsModal=this.querySelector(".store-availabilities-modal"),this.modalLink=this.querySelector(".store-availability-information__link"),this.modalClose=this.querySelector(".store-availabilities-modal__close"),this.modalContact=this.querySelector(".store-availability-list__phone a")}connectedCallback(){this.attachEvents(),document.querySelector("#PageContainer").appendChild(this.locationsModal)}disconnectedCallback(){this.modalLink&&this.modalLink.removeEventListener("click",this.openLocationsModalBound),this.modalClose&&this.modalClose.removeEventListener("click",this.closeLocationsModalBound)}attachEvents(){this.modalLink&&this.modalLink.addEventListener("click",this.openLocationsModalBound),this.modalClose&&this.modalClose.addEventListener("click",this.closeLocationsModalBound)}openLocationsModal(){document.body.classList.add("js-drawer-location-modal-open"),this.locationsModal.classList.add("locations-modal--is-active"),this.modalClose&&this.modalClose.setAttribute("tabindex","0"),this.modalContact&&this.modalContact.setAttribute("tabindex","0"),this.locationsModal.addEventListener("keydown",this.trapFocusBound),document.addEventListener("keydown",t=>{this.escapeKeyHandler(t)},{once:!0}),this.drawerOverlay.addEventListener("click",this.closeLocationsModalBound,{once:!0})}closeLocationsModal(){document.body.classList.remove("js-drawer-location-modal-open"),this.locationsModal.classList.remove("locations-modal--is-active"),this.modalClose&&this.modalClose.setAttribute("tabindex","-1"),this.modalContact&&this.modalContact.setAttribute("tabindex","-1"),this.removeTrapFocus()}escapeKeyHandler(t){"Escape"===t.key&&this.closeLocationsModal()}trapFocus(t){var o=this.locationsModal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),e=o[0],o=o[o.length-1];"Tab"!==t.key&&9!==t.keyCode||(t.shiftKey?document.activeElement===e&&(t.preventDefault(),o.focus()):document.activeElement===o&&(t.preventDefault(),e.focus()))}removeTrapFocus(){this.modalLink&&this.modalLink.focus(),this.locationsModal.removeEventListener("keydown",this.trapFocusBound)}});