/*
Generated time: November 27, 2024 07:21
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
customElements.get("quantity-input")||customElements.define("quantity-input",class extends HTMLElement{constructor(){super(),this.cacheDOMElements(),this.bindEventHandlers()}cacheDOMElements(){this.input=this.querySelector("input"),this.buttonMinus=this.querySelector("button[name='minus']"),this.buttonPlus=this.querySelector("button[name='plus']"),this.sectionId=this.getAttribute("data-section-id")}bindEventHandlers(){this.attachEventListeners=this.attachEventListeners.bind(this),this.detachEventListeners=this.detachEventListeners.bind(this),this.onButtonClick=this.onButtonClick.bind(this),this.onInput=this.debounce(this.onInput.bind(this),500),this.onCartAdded=this.onCartAdded.bind(this)}connectedCallback(){this.attachEventListeners()}attachEventListeners(){this.buttonMinus.addEventListener("click",this.onButtonClick),this.buttonPlus.addEventListener("click",this.onButtonClick),this.input.addEventListener("input",this.onInput),eventBus.on("cart:added",this.onCartAdded)}debounce(e,s,u){let h;return function(){let t=this,n=arguments;var i=u&&!h;clearTimeout(h),h=setTimeout(function(){h=null,u||e.apply(t,n)},s),i&&e.apply(t,n)}}onButtonClick(t){t.preventDefault();var n=this.input.value,t="plus"===t.currentTarget.name?1:-1;this.adjustQuantity(t),n!==this.input.value&&eventBus.emit("qty:change",{value:this.input.value,sectionId:this.sectionId})}onInput(t){t.preventDefault(),isNaN(this.input.value)&&(this.input.value=1),this.input.min&&parseInt(this.input.value)<parseInt(this.input.min)&&(this.input.value=this.input.min),eventBus.emit("qty:change",{value:this.input.value,sectionId:this.sectionId})}adjustQuantity(t){t=parseInt(this.input.value)+t;this.input.value=isNaN(t)?1:t,this.input.min&&parseInt(this.input.value)<parseInt(this.input.min)&&(this.input.value=this.input.min)}onCartAdded(t){t.sectionId&&t.sectionId===this.sectionId&&(this.input.value=1)}disconnectedCallback(){this.detachEventListeners()}detachEventListeners(){this.buttonMinus.removeEventListener("click",this.onButtonClick),this.buttonPlus.removeEventListener("click",this.onButtonClick),this.input.removeEventListener("input",this.onInput)}});